! function(t) {
    "use strict";

    function e() {
        var e = t("<div><div><div><div></div></div><div><div></div></div></div></div>");
        return e.css({
            position: "absolute",
            margin: 0,
            padding: 0,
            border: 0,
            top: 0,
            left: 0,
            bottom: "auto",
            right: "auto",
            overflow: "hidden",
            height: "100%",
            width: "100%",
            visibility: "hidden",
            opacity: 0
        }).children().css({
            position: "absolute",
            margin: 0,
            padding: 0,
            border: 0,
            top: 0,
            left: 0,
            bottom: "-50px",
            right: "-50px",
            overflow: "hidden",
            height: "auto",
            width: "auto"
        }).children().css({
            position: "absolute",
            margin: 0,
            padding: 0,
            border: 0,
            top: 0,
            left: 0,
            bottom: "auto",
            right: "auto",
            overflow: "auto",
            height: "100%",
            width: "100%"
        }).children().css({
            position: "absolute",
            margin: 0,
            padding: 0,
            border: 0,
            top: 0,
            left: 0,
            bottom: "auto",
            right: "auto",
            overflow: "hidden",
            height: "200%",
            width: "200%"
        }), e
    }
    var i = e();
    t.widget("ui.onresize", {
        _create: function() {
            var t = this,
                e = this.element[0];
            "static" === this.element.css("position") && this.element.css("position", "relative"), this._emitting = !1, this._sensor = i.clone().appendTo(this.element), this._sensors = {
                scroll: this._sensor.find("> :first")[0],
                expand: this._sensor.find("> :first > :first")[0],
                expandChild: this._sensor.find("> :first > :first > :first")[0],
                contract: this._sensor.find("> :first > :last")[0]
            }, this._previousSize = {
                width: -1,
                height: -1
            }, e.attachEvent ? (this._handler = function() {
                    t._onResize()
                }, e.attachEvent("onresize", this._handler)) : (this._handler = function() {
                    return t._resetSensor(), t._onResize(), !1
                }, this._sensors.scroll.addEventListener("scroll", this._handler, !0), this._resetSensor()), this.element.on("resize", function() {
                t._emitting || t._checkSize()
            }), this.options.resize && this.element.on("resize", this.options.resize)
        },
        _destroy: function() {
            var t = this.element[0];
            t.attachEvent ? t.detachEvent("onresize", this._handler) : this._sensors.scroll.removeEventListener("scroll", this._handler), this._sensor.remove(), this._sensor = null, this._sensors = null, this._handler = null
        },
        _setOption: function(t, e) {
            "resize" === t && (this.options.resize && this.element.off("resize", this.options.resize), e && this.element.on("resize", e)), this._super(t, e)
        },
        _resetSensor: function() {
            this._sensors.contract.scrollLeft = this._sensors.contract.scrollWidth, this._sensors.contract.scrollTop = this._sensors.contract.scrollHeight, this._sensors.expandChild.style.width = this._sensors.expand.offsetWidth + 1 + "px", this._sensors.expandChild.style.height = this._sensors.expand.offsetHeight + 1 + "px", this._sensors.expand.scrollLeft = this._sensors.expand.scrollWidth, this._sensors.expand.scrollTop = this._sensors.expand.scrollHeight
        },
        _onResize: function() {
            this._checkSize() && (this._emitting = !0, this.element.trigger("resize"), this._emitting = !1)
        },
        _checkSize: function() {
            var t = {
                height: this.element.outerHeight(),
                width: this.element.outerWidth()
            };
            return t.height !== this._previousSize.height || t.width !== this._previousSize.width ? (this._previousSize = t, !0) : !1
        }
    });
    var s = t.fn.onresize;
    t.fn.onresize = function(t) {
        return t instanceof Function && (t = {
            resize: t
        }), s.call(this, t)
    }
}(window.jQuery);